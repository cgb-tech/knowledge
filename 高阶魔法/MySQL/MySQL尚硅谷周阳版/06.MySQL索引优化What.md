# 索引

## 一、什么是索引

### 1、定义

**MySQL官方对索引的定义为：索引(Index)是帮助MySQL高校获取数据的数据结构。可以得到索引的本质：`索引是数据结构`**

### 2、解释

你可以简单理解为**"排好序的快速查找数据结构"**。

![mark](http://codedorado.oss-cn-beijing.aliyuncs.com/images/20200404/105133723.png)

数据本身之外,**数据库还维护着一个满足特定查找算法的数据结构**，这些数据结构以某种方式指向数据，这样就可以在这些数据结构的基础上实现高级查找算法,这种数据结构就是索引。

### 3、存储

一般来说索引本身也很大，不可能全部存储在内存中，因此索引往往以文件形式存储在硬盘上

### 4、结论

==我们平时所说的索引，如果没有特别指明，都是指B树(多路搜索树，并不一定是二叉树)结构组织的索引。==其中聚集索引，次要索引，覆盖索引，复合索引，前缀索引，唯一索引默认都是使用B+树索引，统称索引。当然,除了B+树这种类型的索引之外，还有哈希索引(hash index)等。

---

## 二、优势

1、提高数据检索的效率，降低数据库 `IO` 成本

2、通过索引对数据进行排序，降低数据排序的成本，降低了 `CPU` 的消耗

---

## 三、劣势

1、实际上索引也是一张表，该表保存了主键和索引字段，并指向实体表的记录,所以索引列也是要占用空间的

2、虽然索引大大提高了查询速度，同时却会降低更新表的速度,如果对表INSERT,UPDATE和DELETE。因为更新表时，MySQL不仅要不存数据，还要保存一下索引文件每次更新添加了索引列的字段，都会调整因为更新所带来的键值变化后的索引信息

3、索引只是提高效率的一个因素，如果你的MySQL有大数据量的表，就需要花时间研究建立优秀的索引，或优化查询语句

---

## 四、索引分类

- 建议一张表的索引不超过五个

---

### 1、单值索引

**即一个索引只包含单个列，一个表可以有多个单列索引**

---

### 2、唯一索引

**索引列的值必须唯一，蛋允许有空值**

---

### 3、复合索引

**一个索引包含多个列**

---

### 4、基本语法

#### （1）创建

```mysql
create [unique] index indexName on mytable(columnname(length));
alter table mytable add [unique] index [indexName] on (columnname(length))
```

#### （2）删除

```mysql
drop index [indexName] on mytable
```

#### （3）查看

```mysql
show index from table_name
```

#### （4）使用 `ALTER` 命令

![mark](http://codedorado.oss-cn-beijing.aliyuncs.com/images/20200404/115831384.png)



























